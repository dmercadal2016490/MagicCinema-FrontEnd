<body>
    <br><img *ngIf="cineSelected.image" src="{{uri+'getImageCine/'+cineSelected.image}}" class="imagenCine" alt="imagen del cine">
    <img *ngIf="cineSelected.image == null" src="../../../assets/img/cine.jpg" class="imagenCine" alt="Imagen por defecto">
    <h1 class="textoCine">{{cineSelected.name}}</h1>
    <button class="btn btn-success col-lg-3  boton2" routerLink="/addMovie">Agregar pelicula</button>
    <br><br><h1 class="texto1">Acci√≥n</h1>
    <div id="cards" style="width: 18rem;" *ngFor="let peliculas of peliculas">
      <div *ngIf="peliculas.categoria =='Accion'">
        <img *ngIf="peliculas.image == null" src="../../../assets/img/movie.png" class="imagen" alt="Imagen por defecto"><br><br>
        <img *ngIf="peliculas.image" src="{{uri+'/getImageMovie/'+peliculas.image}}" class="imagen" alt="Imagen de pelicula"><br><br>
        <button class="btn btn-primary boton" (click)="obtenerData(peliculas)" data-bs-toggle="modal" data-bs-target="#exampleModal">Ver pelicula</button><br><br>
        <button type="button" class="btn btn-success boton" data-bs-toggle="modal" data-bs-target="#myModal" *ngIf="user.role == 'ROLE_ADMINCINE'" (click)="obtenerData(movieSelected)">
          Subir imagen
        </button>
      </div>  
    </div>
    <br><br><h1 class="texto1">Drama</h1>
    <div id="cards" style="width: 18rem;" *ngFor="let peliculas of peliculas">
      <div *ngIf="peliculas.categoria =='Drama'">
        <img *ngIf="peliculas.image == null" src="../../../assets/img/movie.png" class="imagen" alt="Imagen por defecto"><br><br>
        <img *ngIf="peliculas.image" src="{{uri+'/getImageMovie/'+peliculas.image}}" class="imagen" alt="Imagen de pelicula"><br><br>
        <button class="btn btn-primary boton" (click)="obtenerData(peliculas)" data-bs-toggle="modal" data-bs-target="#exampleModal">Ver pelicula</button>
        <button type="button" class="btn btn-success boton" data-bs-toggle="modal" data-bs-target="#myModal" *ngIf="user.role == 'ROLE_ADMINCINE'" (click)="obtenerData(movieSelected)">
          Subir imagen
        </button>
      </div>
    </div>
    <br><br><h1 class="texto1">Terror</h1>
    <div id="cards" style="width: 18rem;" *ngFor="let peliculas of peliculas">
      <div *ngIf="peliculas.categoria =='Terror'">
        <img *ngIf="peliculas.image == null" src="../../../assets/img/movie.png" class="imagen" alt="Imagen por defecto"><br><br>
        <img *ngIf="peliculas.image" src="{{uri+'/getImageMovie/'+peliculas.image}}" class="imagen" alt="Imagen de pelicula"><br><br>
        <button class="btn btn-primary boton" (click)="obtenerData(peliculas)" data-bs-toggle="modal" data-bs-target="#exampleModal">Ver pelicula</button>
        <button type="button" class="btn btn-success boton" data-bs-toggle="modal" data-bs-target="#myModal" *ngIf="user.role == 'ROLE_ADMINCINE'" (click)="obtenerData(movieSelected)">
          Subir imagen
        </button>
      </div>
    </div>
    <br><br><h1 class="texto1">Comedia</h1>
    <div id="cards" style="width: 18rem;" *ngFor="let peliculas of peliculas">
      <div *ngIf="peliculas.categoria =='Comedia'">
        <img *ngIf="peliculas.image == null" src="../../../assets/img/movie.png" class="imagen" alt="Imagen por defecto"><br><br>
        <img *ngIf="peliculas.image" src="{{uri+'/getImageMovie/'+peliculas.image}}" class="imagen" alt="Imagen de pelicula"><br><br>
        <button class="btn btn-primary boton" (click)="obtenerData(peliculas)" data-bs-toggle="modal" data-bs-target="#exampleModal">Ver pelicula</button>
      </div>
    </div>
</body>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">{{movieSelected.name}}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <img *ngIf="movieSelected.image == null" src="../../../assets/img/movie.png" class="imagenSeleccionada" alt="Imagen por defecto">
            <img *ngIf="movieSelected.image" src="{{uri+'/getImageMovie/'+movieSelected.image}}" class="imagenSeleccionada" alt="Imagen de pelicula">
            <p class="texto5">{{movieSelected.clasificacion}}</p><p class="texto6">{{movieSelected.categoria}}</p><br><br><hr>
            <h2 class="texto2">Sinopsis:</h2>
            <p class="texto7">{{movieSelected.sinopsis}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Comprar boletos</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL PARA SUBIR IMAGEN DE PELICULA -->
<div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="myModalLabel">Imagen de Pelicula</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3>Elije tu imagen</h3>
        <form #formUpload="ngForm">
          <label for="inputImage"></label>
          <input type="file" name="image" id="inputImage" (change)="fileChange($event)" required>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" data-bs-dismiss="modal" class="btn btn-primary" (click)="uploadImageMovie()">Upload</button>
      </div>
    </div>
  </div>
</div>